import re

pattern = {
    'A': r'\.-',
    'B': r'-\.{3}',
    'C': r'(-\.){2}',
    'D': r'-\.{2}',
    'E': r'\.',
    'F': r'\.{2}-\.',
    'G': r'-{2}\.',
    'H': r'\.{4}',
    'I': r'\.{2}',
    'J': r'\.-{3}',
    'K': r'-\.-',
    'L': r'\.-\.{2}',
    'M': r'-{2}',
    'N': r'-\.',
    'O': r'-{3}',
    'P': r'\.-{2}\.',
    'Q': r'-{2}\.-',
    'R': r'\.-\.',
    'S': r'\.{3}',
    'T': r'-',
    'U': r'\.{2}-',
    'V': r'\.{3}-',
    'W': r'\.-{2}',
    'X': r'-\.{2}-',
    'Y': r'-\.-{2}',
    'Z': r'-{2}\.{2}',
    '0': r'\-{5}',
    '1': r'\.{1}-{4}',
    '2': r'\.{2}-{3}',
    '3': r'\.{3}-{2}',
    '4': r'\.{4}-{1}',
    '5': r'\.{5}',
    '6': r'-{1}\.{4}',
    '7': r'-{2}\.{3}',
    '8': r'-{3}\.{2}',
    '9': r'-{4}\.{1}',
    '.': r'(\.-){3}',
    ',': r'-{2}\.{2}-{2}',
    '?': r'\.{2}-{2}\.{2}',
    '\'': r'\.-{4}\.',
    '!': r'(-\.){2}-{2}',
    '/': r'-\.{2}-\.',
    '(': r'-\.-{2}\.',
    ')': r'-\.-{2}\.-',
    '&': r'\.-\.{3}',
    ':': r'-{3}\.{3}',
    ';': r'(-\.){3}',
    '=': r'-\.{3}-',
    '+': r'(\.-){2}\.',
    '-': r'-\.{4}-',
    '_': r'\.{2}-{2}\.-',
    '\"': r'\.-\.{2}-\.',
    '$': r'\.{3}-\.{2}-',
    '@': r'\.-{2}\.-\.',
    '¿': r'\.{2}-\.-',
    '¡': r'-{2}\.{3}-',
}

text = open('text1.txt', 'r', encoding='UTF-8').read()
morseWords = text.split(' ')

result = ''
for morseWord in morseWords:
    for character, regex in pattern.items():
        m = re.match(regex, morseWord)
        if m is not None and (m.end() - m.start()) == len(morseWord):
            result += character
            break

result = str.lower(result)
print(result)
